<!DOCTYPE html>

<html lang="zh">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>ST计划</title>
    <!-- 添加网站图标 -->
    <link rel="icon" href="assets/img/favicon.svg" type="image/svg+xml">
    <link rel="shortcut icon" href="assets/img/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="assets/img/favicon.svg">
    <!-- 内联PNG图标，用于不支持SVG的浏览器 -->
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF8WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjQtMDMtMTVUMTg6NDg6MzIrMDg6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDI0LTAzLTE1VDE4OjQ5OjAzKzA4OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0LTAzLTE1VDE4OjQ5OjAzKzA4OjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxMjM0NTY3OC05YTFiLTRjZDYtOWRkZS00NzI5MzU3YjRkYzQiIHhtcE1NOkRvY3VtZW50SUQ9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" type="image/png">
    <!-- 样式文件 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css">
</head>

<body>
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-3">
                <div class="card mb-4">
                    <div class="card-header">
                        <!-- 删除设置标题 -->
                    </div>
                    <div class="card-body">
                        <form class="mb-3" id="birthDateForm">
                            <div class="mb-3">
                                <label class="form-label">出生日期 (YYYYMMDD):</label>
                                <input class="form-control" id="birthDate" type="text" />
                            </div>
                            <button class="btn btn-primary w-100" type="submit">设置出生日期</button>
                        </form>
                        <form id="goalForm">
                            <div class="mb-3">
                                <label class="form-label">存款内容:</label>
                                <input class="form-control" id="goalName" type="text" />
                            </div>
                            <div class="mb-3">
                                <label class="form-label">目标金额:</label>
                                <input class="form-control" id="goalAmount" type="text" />
                            </div>
                            <button class="btn btn-primary w-100" type="submit">添加存款进度</button>
                        </form>
                        <div class="card mt-2">
                            <div class="card-header py-2">记录存取款</div>
                            <div class="card-body p-2">
                                <form id="moneyForm">
                                    <div class="mb-2">
                                        <div class="btn-group w-100" role="group">
                                            <input class="btn-check" id="depositType" name="operationType" type="radio"
                                                value="deposit" />
                                            <label class="btn btn-outline-success" for="depositType">存入</label>
                                            <input class="btn-check" id="withdrawType" name="operationType" type="radio"
                                                value="withdraw" />
                                            <label class="btn btn-outline-warning" for="withdrawType">取出</label>
                                        </div>
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label mb-1">金额:</label>
                                        <input class="form-control form-control-sm" id="amount" type="text" />
                                    </div>
                                    <div class="mb-2">
                                        <label class="form-label mb-1">备注:</label>
                                        <input class="form-control form-control-sm" id="note" placeholder="可选"
                                            type="text" />
                                    </div>
                                    <button class="btn btn-primary btn-sm w-100" type="submit">确认</button>
                                </form>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <div>总存款</div>
                            <div class="text-success fs-4 fw-bold" id="totalSaved">${formatMoney(appData.totalSaved)}
                            </div>
                            <div class="text-muted mt-2">
                                <div id="currentDate"></div>
                                <div id="currentTime"></div>
                            </div>
                            <button class="btn btn-primary mt-3" onclick="window.location.href='money-goal-tracker.html'">
                                <i class="fas fa-chart-line"></i> 赚钱目标进度
                            </button>
                            <div class="mt-2">
                                <button id="currencyToggleBtn" class="btn btn-outline-primary btn-sm" 
                                    onclick="promptExchangeRate()" 
                                    title="点击切换货币，按住Ctrl点击设置汇率">
                                    切换到 $
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-9">
                <div class="card">
                    <div class="card-header">
                        <div class="d-flex flex-column flex-md-row align-items-start align-items-md-center">
                            <div class="btn-group flex-wrap w-100" role="group">
                                <input class="btn-check" id="savingsMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="savingsMode">存款进度</label>
                                <input class="btn-check" id="ageMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="ageMode">时间进度</label>
                                <input class="btn-check" id="historyMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="historyMode">历史记录</label>
                                <input class="btn-check" id="archiveMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="archiveMode">归档记录</label>
                                <input class="btn-check" id="todoMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="todoMode">待办事项</label>
                                <input class="btn-check" id="inspirationMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="inspirationMode">灵感记录</label>
                                <input class="btn-check" id="habitMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="habitMode">习惯打卡</label>
                                <input class="btn-check" id="timeTrackingMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="timeTrackingMode">时间统计</label>
                                <input class="btn-check" id="personalDataMode" name="viewMode" type="radio" />
                                <label class="btn btn-outline-primary btn-sm" for="personalDataMode">个人数据</label>
                            </div>
                        </div>
                        <div class="d-flex flex-wrap align-items-center gap-2">
                            <!-- 导入导出按钮组 -->
                            <div class="d-flex gap-2">
                                <button class="btn btn-primary btn-sm py-1 px-3" onclick="exportData()"
                                    style="min-width: 80px;">导出数据</button>
                                <button class="btn btn-success btn-sm py-1 px-3"
                                    onclick="document.getElementById('importFile').click()"
                                    style="min-width: 80px;">导入数据</button>
                                <input accept=".json" id="importFile" onchange="importData(event)" style="display: none"
                                    type="file" />
                            </div>
                            <!-- 右侧功能按钮组，使用 ms-auto 将其推到最右边 -->
                            <div class="d-flex gap-2 ms-auto">
                                <!-- 清空按钮 -->
                                <button class="btn btn-warning btn-sm py-1 px-3" onclick="clearHistory()"
                                    style="min-width: 80px;">清空历史</button>
                                <button class="btn btn-warning btn-sm py-1 px-3" onclick="clearArchived()"
                                    style="min-width: 80px;">清空归档</button>
                                <!-- 重置按钮 -->
                                <button class="btn btn-danger btn-sm py-1 px-3" onclick="resetSavings()"
                                    style="min-width: 80px;">重置存款</button>
                                <button class="btn btn-danger btn-sm py-1 px-3" onclick="resetTime()"
                                    style="min-width: 80px;">重置时间</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="goal-container" id="goalsContainer">
                            <!-- Goals will be added here dynamically -->
                        </div>
                        <!-- 添加时间统计界面 -->
                        <div class="time-tracking-container view-container" style="display: none;">
                            <h3 class="mb-3">时间统计</h3>
                            <button class="btn btn-primary add-event-btn" onclick="addNewEvent()">
                                <i class="fas fa-plus"></i> 添加新事件
                            </button>
                            <div id="events-container">
                                <!-- 事件卡片将在这里动态添加 -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
    <script src="js/st.js"></script>
</body>

</html>